<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lebanon Geolocation Exploration Game</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDUX4nOaDDLMpXPE4kzzG7suF-dYcj-tkc"></script>
  <style>
    #map {
      height: 400px;
      width: 100%;
    }
    #game-info {
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2 style="text-align: center;">Explore Locations in Lebanon</h2>
  <div id="map"></div>
  <div id="game-info">
    <button onclick="startExploration()">Show New Location</button>
    <p><strong>Region:</strong> <span id="region-info"></span></p>
    <p><strong>Location:</strong> <span id="location-info"></span></p>
  </div>

  <script>
    let map;
    let targetMarker;

    // Define regions with both popular and lesser-known locations
    const regions = {
      "Beirut": [
        { name: "Beirut Downtown", lat: 33.8951, lng: 35.5057 },
        { name: "Gemmayze", lat: 33.8978, lng: 35.5103 },
        { name: "Karantina", lat: 33.9067, lng: 35.5253 },
        { name: "Corniche Beirut", lat: 33.9051, lng: 35.4733 }
      ],
      "Mount Lebanon": [
        { name: "Jounieh", lat: 33.9808, lng: 35.6174 },
        { name: "Beit Mery", lat: 33.8674, lng: 35.6024 },
        { name: "Chouf Cedar Reserve", lat: 33.6897, lng: 35.6624 },
        { name: "Broummana", lat: 33.8864, lng: 35.5876 }
      ],
      "North Lebanon": [
        { name: "Tripoli Citadel", lat: 34.4367, lng: 35.8525 },
        { name: "Ehden", lat: 34.2986, lng: 35.9787 },
        { name: "Ras Bsharri", lat: 34.2516, lng: 36.0102 },
        { name: "Batroun Old Souks", lat: 34.2545, lng: 35.6582 }
      ],
      "South Lebanon": [
        { name: "Sidon Sea Castle", lat: 33.5576, lng: 35.3723 },
        { name: "Tyre Al-Bass Site", lat: 33.2707, lng: 35.2033 },
        { name: "Mleeta Resistance Landmark", lat: 33.4729, lng: 35.5851 },
        { name: "Qana Caves", lat: 33.2250, lng: 35.2995 }
      ],
      "Bekaa Valley": [
        { name: "Baalbek Temples", lat: 34.0058, lng: 36.2181 },
        { name: "Zahle Winery", lat: 33.8492, lng: 35.9077 },
        { name: "Anjar Ruins", lat: 33.7256, lng: 35.9336 },
        { name: "Taanayel Lake", lat: 33.8251, lng: 35.8714 }
      ]
    };

    let target;
    let currentRegion;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 33.8938, lng: 35.5018 }, // Center map on Lebanon
        zoom: 8,
      });
    }

    function startExploration() {
      setNewTarget();
    }

    function setNewTarget() {
      const regionKeys = Object.keys(regions);
      currentRegion = regionKeys[Math.floor(Math.random() * regionKeys.length)]; // Randomly select a region
      const regionLocations = regions[currentRegion];
      target = regionLocations[Math.floor(Math.random() * regionLocations.length)]; // Randomly select location in region

      // Update target display
      document.getElementById("region-info").textContent = currentRegion;
      document.getElementById("location-info").textContent = target.name;

      // Place marker for the target
      if (targetMarker) targetMarker.setMap(null);
      targetMarker = new google.maps.Marker({
        position: { lat: target.lat, lng: target.lng },
        map: map,
        label: "T",
      });

      // Center the map on the target location
      map.setCenter({ lat: target.lat, lng: target.lng });
      map.setZoom(12); // Zoom in to the target area
    }

    window.onload = initMap;
  </script>
</body>
</html>
